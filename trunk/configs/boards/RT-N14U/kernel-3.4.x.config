#
# Финальный конфиг ядра для ASUS RT-N14U (MT7620)
#
CONFIG_MIPS=y
CONFIG_RALINK_MT7620=y
CONFIG_MT7620_ASIC=y

# Процессор и память
CONFIG_RT2880_DRAM_128M=y
CONFIG_RALINK_RAM_SIZE=128
CONFIG_RT2880_UART_57600=y
CONFIG_RALINK_UART_BRATE=57600
CONFIG_RALINK_MT7620_PLL600=y
CONFIG_RALINK_SYSTICK_COUNTER=y

# Оптимизация памяти (то, на чем упало в последний раз)
CONFIG_MOBILITY_GROUP_RAMLESS=y
CONFIG_PAGECACHE_RECLAIM=y

# Отключение многопоточности (у MT7620 только 1 ядро)
# CONFIG_MIPS_MT_SMP is not set
# CONFIG_MIPS_MT_SMTC is not set
# CONFIG_MIPS_MT is not set
# CONFIG_SCHED_SMT is not set
# CONFIG_SMP is not set

# Базовые настройки системы
CONFIG_CPU_LITTLE_ENDIAN=y
CONFIG_SYS_SUPPORTS_LITTLE_ENDIAN=y
CONFIG_IRQ_CPU=y
CONFIG_BOOT_ELF32=y
CONFIG_CPU_MIPS32_R2=y
CONFIG_PAGE_SIZE_4KB=y
CONFIG_FORCE_MAX_ZONEORDER=11
CONFIG_SELECT_MEMORY_MODEL=y
CONFIG_FLATMEM_MANUAL=y
CONFIG_FLATMEM=y
CONFIG_HZ_250=y
CONFIG_EXPERIMENTAL=y
CONFIG_MODULES=y
CONFIG_MODULE_UNLOAD=y
CONFIG_BLOCK=y
CONFIG_LBDAF=y
CONFIG_NET=y

# Файловые системы
CONFIG_EXT4_FS=y
CONFIG_FAT_FS=y
CONFIG_VFAT_FS=y
CONFIG_SQUASHFS=y
CONFIG_SQUASHFS_XZ=y

# Сеть и USB
CONFIG_INET=y
CONFIG_IPV6=y
CONFIG_USB=y
CONFIG_USB_EHCI_HCD=y
CONFIG_USB_OHCI_HCD=y
CONFIG_USB_STORAGE=y

# Драйверы Ralink
CONFIG_RAETH=y
CONFIG_RAETH_ESW=y
CONFIG_RA_NAT_HW=y
